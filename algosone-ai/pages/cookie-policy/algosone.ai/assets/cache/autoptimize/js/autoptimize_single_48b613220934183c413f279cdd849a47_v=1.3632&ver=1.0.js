let _required_loaded=false;let _required_quantity=jQuery('[data-lazy][required]').length;let scroll_direction='';let old_scroll_pos=0;let oldScrollTop=0;if($("body.home").length){$(document).ready(function(){if(!("WebSocket"in window)){$('<p>Oh no, you need a browser that supports WebSockets. How about <a href="https://www.google.com/chrome">Google Chrome</a>?</p>').appendTo('.s-home--rates');}else{connect();function connect(){var socket;var host="wss://ws.algosone.ai/app/socket";function initWebSocket(){try{socket=new WebSocket(host);message('<p class="event">Socket Status: '+socket.readyState);socket.onopen=function(){message('<p class="event">Socket Status: '+socket.readyState+' (open)');var subscriptionData={event:"pusher:subscribe",data:{channel:"global.trades"}};socket.send(JSON.stringify(subscriptionData));message('<p class="event">Sent: '+JSON.stringify(subscriptionData));}
socket.onmessage=function(msg){var data=JSON.parse(JSON.parse(msg.data).data);if(data){if(data.trades.length>=5){$('#live_transactions tbody').html('');var count=0;data.trades.forEach(function(item){if(count<5){var symbol=item.symbol;var amount=item.amount;var type=item.type;var time=item.time;if(amount>0){amount='<span class="color-green">'+amount+'</span>';}else{amount='<span class="color-red">'+amount+'</span>';}
$('#live_transactions tbody').append('<tr><td>'+symbol+'<span class="color-gray"> / USD</span></td><td class="for">'+type+'</td><td>'+amount+'</td></tr>');count++;}});}}}
socket.onclose=function(event){message('<p class="event">Socket Status: '+socket.readyState+' (Closed)');setTimeout(function(){message('<p class="event">Reconnecting...');connect();},5000);}
socket.onerror=function(error){message('<p class="event">Socket Error: '+error);setTimeout(function(){message('<p class="event">Reconnecting...');connect();},5000);}}catch(exception){message('<p>Error'+exception);setTimeout(function(){message('<p class="event">Reconnecting...');connect();},5000);}}
initWebSocket();function message(msg){console.log(msg);}
$('#disconnect').click(function(){socket.close();});}}});}
function _load_ready(){lazy_load();_required_loaded=false;_required_quantity=jQuery('[data-lazy][required]').length;}
function copyToClipboard(element){var $temp=$("<input>");$("body").append($temp);$temp.val('https://algosone.page.link/get-application').select();document.execCommand("copy");$temp.remove();}
function _load_components(){var rand=Math.floor(Math.random()*1000);setInterval(function(){if(!_required_loaded){if(_required_quantity===jQuery('[data-lazy][required].load').length){setTimeout(function(){_required_loaded=true;$('html').addClass('page--loaded');$('html').addClass('header--animate');$('.logo > .label, .logo').addClass('animate');$(window).trigger('scroll');},1000)}}},100);}
function getCookie(name){const value=`; ${document.cookie}`;const parts=value.split(`; ${name}=`);if(parts.length===2)return parts.pop().split(';').shift();}
function lazy_load(){jQuery('[data-lazy]').each(function(index,value){var type=$(this).attr('data-lazy');if(type=='image'){if(typeof $(this).attr('data-src')!=='undefined'){var src=$(this).attr('data-src');var $this=$(this);var image=new Image();image.onload=function(){$this.css('background','url('+this.src+')').addClass('load');if($this.data('trigger-el')!==''){$($this.data('trigger-el')).addClass('shown');}}
image.src=src;}}});}
function _prepare_menu(){var $item=$('.menu-item.menu-item-has-children');$item.children('a').attr('aria-haspopup','true').attr('aria-expanded','false');}
document.addEventListener('DOMContentLoaded',()=>{lazy_load();_load_components();_prepare_menu();})
function _upload_file(file,field_id=false){var data=new FormData();var field=$('[data-upload-id="'+field_id+'"]');var form=field.closest('form');data.append('action','ajax_upload_file');data.append('file',file);$.ajax({url:CURRENT_SITE+'/wp-admin/admin-ajax.php',type:'POST',data:data,cache:false,dataType:'json',beforeSend:function(){form.addClass('in--progress');},processData:false,contentType:false,success:function(data){if(data.status==='success'){$('#'+field_id+'_id').val(data.id);field.find('.caption').html(data.name);}else{Swal.fire({icon:'error',title:'File upload error',html:data.error,customClass:{container:''},showCloseButton:true,});}
form.removeClass('in--progress');}});}
let _ajax_history=[];let _ajax_current_page=false;let _ajax_popstate=false;let onmousewindow=false;if(window.innerWidth>=1024){$(document).on({mouseenter:function(){onmousewindow=true;},mouseleave:function(evt){onmousewindow=false;}});}
function startLoader(){$('[data-animate-scroll], [data-animate-text]').removeClass('animate');$('header .logo > .label').addClass('animate');$('[data-lazy]').removeClass('load');$('.ui-mobile-menu').removeClass('open');setTimeout(function(){$('body').removeClass('menu--open');},1000);$('html').removeClass('page--loaded');$('html').addClass('page--in-progress');$bar=$('.site-header-progressbar');$bar.addClass('site-header-progressbar--in-process');setTimeout(function(){$('.popup-menu').removeClass('active loaded');$('html').removeClass('page--in-progress popup-menu--active ').addClass('page--before-shown');},1000);}
function stopLoader(){$bar=$('.site-header-progressbar');$bar.addClass('site-header-progressbar--finished');_prepare_menu();setTimeout(function(){$bar.removeClass('site-header-progressbar--finished site-header-progressbar--in-process');$('html').removeClass('page--before-shown');try{}catch(e){}},400);}
$('body').on('click','[href]1',function(){let link=$(this).attr('href');link=link.replace(CURRENT_SITE,'');let target=$(this).attr('target');if(link==''){return true;}
if($(this).hasClass('no_ajax')){return true;}
if(link.substr(0,4)=='http'){return true;}
if(link.substr(0,1)=='#'||link.substr(0,2)=='/#'){if(link!='#'){if($('#modal-'+link.replace('#','')).length!==0){_modal_open(link.replace('#',''));}else{jQuery([document.documentElement,document.body]).animate({scrollTop:jQuery(link).offset().top-100},1000);}
return false;}else{return true;}}
if(link.substr(0,4)=='tel:'){return true;}
if(link.substr(0,7)=='mailto:'){return true;}
if(typeof target==='undefined'){}});function ajax_load(path,scrolltop=true,historyPush=true,backToTop=false){let hashtag=false;if(path.indexOf('#')!==-1){hashtag=path.split('#')[1];path=path.split('#')[0];}
$.ajax({url:'/wp-admin/admin-ajax.php',type:"POST",data:{action:'ajax_get_page',path:path},dataType:'html',beforeSend:function(){startLoader();if(backToTop===false){oldScrollTop=$(window).scrollTop();}},success:function(response){if(historyPush){history.pushState(null,null,path);}
_ajax_history.push(path);_ajax_current_page=_ajax_history.length-1;setTimeout(function(){$('#_page').html(response);console.log(oldScrollTop);document.title=_page_data.title;$('body').attr('class','').addClass(_page_data.class);if(scrolltop===true&&hashtag===false){$(document).scrollTop(0);}
if(hashtag&&backToTop===false){jQuery([document.documentElement,document.body]).animate({scrollTop:jQuery('#'+hashtag).offset().top-100},1000);}
if(backToTop){$(document).scrollTop(oldScrollTop);}
_load_ready();stopLoader();},700);},error:function(response){console.log(response);stopLoader();}});return false;}
addEventListener("popstate",function(e){_ajax_popstate=true;if(onmousewindow===false){var url=e.target.document.location.href;path=url.replace(CURRENT_SITE,'');}},false);function _modal_open(id){$('#modal-'+id).addClass('shown');}
function _modal_close(){$('.ui-modal').removeClass('shown');}
$('body').on('click','[data-close-modal]',function(){_modal_close();})
$('body').on('click','.ui-button',function(){$(this).addClass('click');var $this=$(this);setTimeout(function(){$this.addClass('out');},1000);setTimeout(function(){$this.removeClass('click');},1800);setTimeout(function(){$this.removeClass('out');},2400);});$('body').on('click','.close-button,.menu-burger',function(){$('html').toggleClass('popup-menu--active');$('.popup-menu').toggleClass('active');setTimeout(function(){$('.popup-menu').toggleClass('loaded');},1300);})
function ajax_success_callback(response){$('#callback').removeClass('in--progress');Swal.fire({icon:'success',title:response.title,html:'<p>'+response.message+'</p>',customClass:{container:''},showCloseButton:true,});_form_reset('callback');}
function ajax_success_event_register(response){$('#callback').removeClass('in--progress');Swal.fire({icon:'success',title:response.title,html:'<p>'+response.message+'</p>',customClass:{container:''},showCloseButton:true,});_form_reset('event_register');}
function ajax_before_callback(){$('#callback').addClass('in--progress');}
function ajax_error_callback(response){Swal.fire({icon:'error',title:response.title,customClass:{container:''},showCloseButton:true,});$('#callback').removeClass('in--progress');}
function _ajax_loadmore(){if(typeof wp_query!=='undefined'){$.ajax({url:'/wp-admin/admin-ajax.php',type:"POST",data:{action:'ajax_loadmore',query:JSON.stringify(wp_query)},dataType:'html',beforeSend:function(){},success:function(response){if(response!=''){$('.s-posts .s-wrap').append(response);$('.page-numbers').removeClass('current');var price='123123'.toLocaleString('ru-RU');var current_url=window.location.origin+'/blog/page/'+(wp_query.paged)+'/';history.pushState(null,null,current_url);$('.page-numbers[href="'+current_url+'"]').addClass('current');$(window).trigger('scroll');lazy_load();}else{$('.s-loadmore').remove();}},error:function(response){console.log(response);}});}}
jQuery(window).bind('mousewheel DOMMouseScroll MozMousePixelScroll',function(event){delta=parseInt(event.originalEvent.wheelDelta||-event.originalEvent.detail);if(delta>=0){scroll_direction='up';}else{scroll_direction='down';}
jQuery('.ui-submenu').remove();});jQuery(window).scroll(function(){var st=jQuery(this).scrollTop();if(st>old_scroll_pos){scroll_direction='down';}else{scroll_direction='up';}
old_scroll_pos=st;});function remove_filter(term_name,term_id){$('input[name="f_'+term_name+'[]"][value="'+term_id+'"]').attr('checked',false);$('.filter-sidebar button[type="submit"]').click();}
function copy(text,target){setTimeout(function(){$('#copied_tip').remove();},800);$(target).append("<div class='tip' id='copied_tip'>Copied!</div>");var input=document.createElement('input');input.setAttribute('value',text);document.body.appendChild(input);input.select();var result=document.execCommand('copy');document.body.removeChild(input)
return result;}
function checkfile(files){$('.submit-jobs-form .files-list').html('');$.each(files,function(index,file){if(file.size>5000000){alert('File size is more then 5 mb');return false;}else{$('.submit-jobs-form .start').hide();$('.submit-jobs-form .files-list').append('<div class="file-item"><div class="file-name">'+file.name+'</div><div class="file-size">'+(file.size/1000000).toFixed(2)+' mb</div></div>');}});}
jQuery('#apply_vac').submit(ajaxSubmitApply_vac);function ajaxSubmitApply_vac(){var form=new FormData(this);var vac_n=[];$('.ui-vacancy--card .form-check-input:checked').each(function(){vac_n+=$(this).val();})
if(vac_n.length===0){alert('Please select vacancies!');return false;}
if($('#files').val()==''&&$('input[name="LinkedIn"]').val()==''){alert('Please load your CV!');return false;}
if(grecaptcha.getResponse()){jQuery.ajax({type:"POST",url:CURRENT_SITE+'/wp-admin/admin-ajax.php',data:form,cache:false,contentType:false,processData:false,error:function(data){alert(data);},success:function(data){if(data=="success!"){window.location.href+="/thank-you/";}else{alert(data);}}});}else{alert('Please check Captcha!')}
return false;}
function _stories_open(id){let _story=false;if(typeof _stories!=='undefined'){$.each(_stories,function(index,story){if(id==story.id){_story=story;}});if(_story){$('[name="current_stories"]').val(id);$('[name="current_slide"]').val('0');var $header=$('.ui-stories-modal > .wrapper > .window .header');var $lines=$('.ui-stories-modal > .wrapper > .window .lines');var $avatar=$header.find('.avatar');var $title=$header.find('.title');var $date=$header.find('.date');var $image=$('.ui-stories-modal > .wrapper > .window .image');var $footer=$('.ui-stories-modal > .wrapper > .window .footer');$.each(_story.slides,function(index,slide){$lines.append('<div class="line" data-slide="'+index+'"><div class="fill"></div></div>');});$avatar.html('<img src="'+_story.image+'" alt="Story image">');$title.html(_story.title);$date.html(_story.date);if(_story.slides[0].url.indexOf('.mp4')>-1){$image.html('<video width="100%" height="100%" controls><source src="'+_story.slides[0].url+'" type="video/mp4"></video>');}else{$image.html('<img src="'+_story.slides[0].url+'" alt="Story image">');}
$('body').addClass('stories--shown');}}}
function _stories_next(){var current_stories=$('[name="current_stories"]').val();var next_key=false;$.each(_stories,function(index,story){if(current_stories==story.id){next_key=index+1;}});var next_stories=_stories[next_key];if(next_key&&typeof next_stories!=='undefined'){_stories_open(next_stories.id);}else{_stories_close();}}
function _stories_prev(){var current_stories=$('[name="current_stories"]').val();var next_key=false;$.each(_stories,function(index,story){if(current_stories==story.id){next_key=index-1;}});var next_stories=_stories[next_key];if(next_key!==false&&typeof next_stories!=='undefined'){_stories_open(next_stories.id);console.log(next_stories);}else{_stories_close();}}
function _stories_slide_to(id){$('[name="current_slide"]').val(id);var current_stories=$('[name="current_stories"]').val();let _story=false;$.each(_stories,function(index,story){if(current_stories==story.id){_story=story;}});var $image=$('.ui-stories-modal > .wrapper > .window .image');if(_story.slides[id].url.indexOf('.mp4')>-1){$image.html('<video width="100%" height="100%" controls muted autoplay playsinline><source src="'+_story.slides[id].url+'" type="video/mp4"></video>');}else{$image.html('<img src="'+_story.slides[id].url+'" alt="Story image">');}}
function _stories_slide_next(){var current_stories=$('[name="current_stories"]').val();var current_slide=$('[name="current_slide"]').val();let _story=false;$.each(_stories,function(index,story){if(current_stories==story.id){_story=story;}});var next_slide=parseInt(current_slide)+1;if(typeof _story.slides[next_slide]!=='undefined'){_stories_slide_to(next_slide);}else{_stories_next();}}
function _stories_slide_prev(){var current_stories=$('[name="current_stories"]').val();var current_slide=$('[name="current_slide"]').val();let _story=false;$.each(_stories,function(index,story){if(current_stories==story.id){_story=story;}});var next_slide=parseInt(current_slide)-1;if(typeof _story.slides[next_slide]!=='undefined'){_stories_slide_to(next_slide);}else{_stories_prev();}}
function _stories_close(){$('[name="current_stories"]').val('');$('[name="current_slide"]').val('');$('body').removeClass('stories--shown');}
$(document).ready(function(){_hh=$('header').innerHeight()/2;$(window).scroll(function(){if($(window).scrollTop()>=_hh&&scroll_direction=='down'){jQuery('body').addClass('header-hide');}else{jQuery('body').removeClass('header-hide');}
if($(window).scrollTop()>=_hh){$('header').addClass('minifed');$('header [data-animate-text]').removeClass('animate');}else{$('header').removeClass('minifed');$('header [data-animate-text]').addClass('animate');}
$('[data-animate-scroll]').each(function(index,e){var custom_offset=0;if($(this).data('animate-scroll')!==''){custom_offset=parseInt($(this).data('animate-scroll'));}
var ih=$(this).innerHeight();var triggerOffset=$(window).scrollTop()+($(window).innerHeight()/1.2);var tr=$(window).scrollTop()+($(window).innerHeight()*1.5);var triggerForResetHtml=$(this).offset().top+($(window).innerHeight()/2);var html=$(this).html();if(triggerOffset>=$(this).offset().top){if($(this).hasClass('s-p-f')&&$(this).hasClass('animate')===false){scrollme.init();}
if(typeof $(this).data('event')!=='undefined'){var event=$(this).data('event');if(typeof window[event]==='function'&&!$(this).hasClass('animated')){window[event]();}}
$(this).addClass('animate animated').removeClass('reset');}else{$(this).removeClass('animate');}
if(tr<=triggerForResetHtml&&$(this).hasClass('reset')===false&&$(window).scrollTop()!=0){var disable_reset=$(this).data('disable-reset');if(typeof disable_reset==='undefined'){$(this).html(html);$(this).removeClass('animated');$(this).addClass('reset');}}
if(typeof $(this).data('header-class')!=='undefined'){var tg=_hh*3;if(window.innerWidth<=1024){tg=_hh*7;}
if((triggerOffset-(tg)>=$(this).offset().top)&&(triggerOffset-(tg)<=$(this).offset().top+ih)){$('header').addClass($(this).data('header-class'));}else{$('header').removeClass($(this).data('header-class'));}}});$('[data-animate-text]').each(function(index,e){if(typeof $(this).data('disabled')==='undefined'){var timeout=0
var $this=$(this);if(typeof $(this).data('timeout')!=='undefined'){timeout=parseInt($(this).data('timeout'));}
var triggerCustomOffset=0;if($(this).data('animate-text')!==''){triggerCustomOffset=parseInt($(this).data('animate-text'));}
var triggerOffset=$(window).scrollTop()+($(window).innerHeight()/1.2)+triggerCustomOffset;if(triggerOffset>=$(this).offset().top){setTimeout(function(){$this.addClass('animate');},timeout);}else{$(this).removeClass('animate');}}});});$('body').on('click','[data-slider]',function(){var slider=$(this).data('slider');if($(this).hasClass('prev')){window[slider].slidePrev();}
if($(this).hasClass('next')){window[slider].slideNext();}});lazy_load();$('a, input').attr('tabindex','0');});function getBrowserName(){var userAgent=navigator.userAgent;var browserName="";if(userAgent.indexOf("Firefox")>-1){browserName="Firefox";}else if(userAgent.indexOf("Chrome")>-1){browserName="Chrome";}else if(userAgent.indexOf("iPhone")>-1){browserName="Safari";}else if(userAgent.indexOf("Opera")>-1||userAgent.indexOf("OPR")>-1){browserName="Opera";}else if(userAgent.indexOf("Edge")>-1){browserName="Edge";}else if(userAgent.indexOf("MSIE")>-1||userAgent.indexOf("Trident/")>-1){browserName="Internet Explorer";}else{browserName="Невідомий браузер";}
return browserName;}
$(document).ready(function(){var browserName=getBrowserName();if(browserName=="Safari"){$('body:not(.home)').addClass('is-safari');}});